{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(picture) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const KEY_API = '?key=43293372-b4e22d1edd78f6a49221e5436';\n  const PARAMS = `&q=${picture}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const url = BASE_URL + END_POINT + KEY_API + PARAMS;\n\n  return fetch(url)\n    .then(res => {\n      return res.json();\n    })\n    .catch(err => {\n      throw new Error(err.status);\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const galleryEl = document.querySelector('.gallery');\n\nexport function imageMarkup(data) {\n  const markup = data.hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class= \"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\"</a> \n        <div class=\"image-description\">\n        <p class = \"comment\">Likes: ${likes}</p>\n        <p class = \"comment\">Views: ${views}</p>\n        <p class = \"comment\">Comments: ${comments}</p>\n        <p class = \"comment\">Downloads: ${downloads}</p></div>\n        </li>`;\n      }\n    )\n    .join('');\n\n  galleryEl.insertAdjacentHTML('beforeend', markup);\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionDelay: 250,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n  });\n  lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { galleryEl } from './js/render-functions';\nimport { imageMarkup } from './js/render-functions';\n\nconst formEl = document.querySelector('.img-form');\nconst loaderEl = document.querySelector('.loader');\n\nformEl.addEventListener('submit', formSubmit);\n\nfunction formSubmit(event) {\n  event.preventDefault();\n\n  galleryEl.innerHTML = '';\n  loaderEl.classList.remove('hidden');\n  const picture = event.target.elements.picture.value.trim();\n  fetchImages(picture).then(data => {\n    if (data.totalHits === 0 || picture === '') {\n      loaderEl.classList.add('hidden');\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: 'white',\n        backgroundColor: 'red',\n        position: 'topRight',\n      });\n    } else {\n      loaderEl.classList.add('hidden');\n      imageMarkup(data);\n    }\n  });\n  event.target.reset();\n}\n"],"names":["fetchImages","picture","BASE_URL","END_POINT","KEY_API","PARAMS","url","res","err","galleryEl","imageMarkup","data","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","formEl","loaderEl","formSubmit","event","iziToast"],"mappings":"6vBAAO,SAASA,EAAYC,EAAS,CACnC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAU,0CACVC,EAAS,MAAMJ,CAAO,2DAEtBK,EAAMJ,EAAWC,EAAYC,EAAUC,EAE7C,OAAO,MAAMC,CAAG,EACb,KAAKC,GACGA,EAAI,MACZ,EACA,MAAMC,GAAO,CACZ,MAAM,IAAI,MAAMA,EAAI,MAAM,CAChC,CAAK,CACL,CCZO,MAAMC,EAAY,SAAS,cAAc,UAAU,EAEnD,SAASC,EAAYC,EAAM,CAChC,MAAMC,EAASD,EAAK,KACjB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,wCACyBL,CAAa;AAAA,wCACbD,CAAY,UAAUE,CAAI;AAAA;AAAA,sCAE5BC,CAAK;AAAA,sCACLC,CAAK;AAAA,yCACFC,CAAQ;AAAA,0CACPC,CAAS;AAAA,cAG9C,EACA,KAAK,EAAE,EAEVV,EAAU,mBAAmB,YAAaG,CAAM,EAE/B,IAAIQ,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,IACd,aAAc,MACd,gBAAiB,QACrB,CAAG,EACQ,QAAO,CAClB,CChCA,MAAMC,EAAS,SAAS,cAAc,WAAW,EAC3CC,EAAW,SAAS,cAAc,SAAS,EAEjDD,EAAO,iBAAiB,SAAUE,CAAU,EAE5C,SAASA,EAAWC,EAAO,CACzBA,EAAM,eAAc,EAEpBf,EAAU,UAAY,GACtBa,EAAS,UAAU,OAAO,QAAQ,EAClC,MAAMrB,EAAUuB,EAAM,OAAO,SAAS,QAAQ,MAAM,OACpDxB,EAAYC,CAAO,EAAE,KAAKU,GAAQ,CAC5BA,EAAK,YAAc,GAAKV,IAAY,IACtCqB,EAAS,UAAU,IAAI,QAAQ,EAC/BG,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,QACd,gBAAiB,MACjB,SAAU,UAClB,CAAO,IAEDH,EAAS,UAAU,IAAI,QAAQ,EAC/BZ,EAAYC,CAAI,EAEtB,CAAG,EACDa,EAAM,OAAO,OACf"}